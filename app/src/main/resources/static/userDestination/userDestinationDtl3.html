<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script src="../../node_modules/jquery/dist/jquery.min.js"></script>
<title>Insert title here</title>
<!--스위트 얼럿 -->
<link rel="stylesheet"
  href="../../node_modules/sweetalert2/dist/sweetalert2.min.css" />
<!--부트 스트렙 -->
<link rel="stylesheet"
  href="../../node_modules/bootstrap/dist/css/bootstrap.css" />
<script
  src="../../node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<!--CSS 가져오기 -->
<link rel="stylesheet" href="./userDestinationDtl.css" />

<!--헤더 가져오기 -->
<script>
	$(document).ready(function() {
		$('.headers').load('../../common/header/header.html');
	});
</script>
<!--댓글 CSS 가져오기 -->
<link rel="stylesheet" href="/userDestination/index.css">
<script src="/userDestination/index.js"></script>

</head>
<body>
  <div class="headers"></div>

  <div class="container">

    <div class="travelListDtlCntn">
      <div class="title">뷰맛집</div>

      <div class="nickName"
        style="float: left; width: 33%; margin-left: 25px">nickname</div>

      <div class="regDate"
        style="float: right; width: 33%; margin-right: 25px; text-align: right;">2022-04-04</div>

      <!-- Img caruousel-->
      <div id="carouselExampleInterval"
        class="carousel slide w-60 align-self-center"
        data-bs-ride="carousel" style="border-radius: 10px">
        <div class="carousel-inner" style="display: flex">
          <div class="carousel-item active" data-bs-interval="2000" style="width:650px; height: 400px">
            <img
              src="http://a.cdn-hotels.com/gdcs/production13/d298/6722a536-dc90-49b4-9987-4c0ce03105cc.jpg?impolicy=fcrop&w=1600&h=1066&q=medium"
              class="d-block h-auto w-100" alt="..."
              style="border-radius: 20px" />
          </div>
          <div class="carousel-item" data-bs-interval="2000" style="width:650px; height: 400px">
            <img
              src="http://a.cdn-hotels.com/gdcs/production153/d1329/551a0385-f7e0-4f7c-a407-43bdecddd4d4.jpg?impolicy=fcrop&w=1600&h=1066&q=medium"
              class="d-block h-auto w-100" alt="..."
              style="border-radius: 20px" />
          </div>
          <div class="carousel-item" data-bs-interval="2000" style="width:650px; height: 400px">
            <img
              src="http://a.cdn-hotels.com/gdcs/production18/d313/28d7ddb1-12c5-4b47-b355-515eb4db0870.jpg?impolicy=fcrop&w=1600&h=1066&q=medium"
              class="d-block h-auto w-100" alt="..."
              style="border-radius: 20px" />
          </div>


        </div>
        <button class="carousel-control-prev" type="button"
          data-bs-target="#carouselExampleInterval" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button"
          data-bs-target="#carouselExampleInterval" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>




      <div class="content" style="margin: 25px">여러분~!~!~! 볶음밥 새우밥
        동치미 국수 다 맛있어요~!~! 근데 사장님 출근이 좀 오락가락 하셔요🥲 그래도 동치미 국수 랑 초벌돼지구이
        조합이 너무 맛있으니까 꼭 한번 가보셔요~!...</div>

    </div>

    <div class="commentCntn">
      <a class="copy" style="float: right;">복사</a> <span class="address"
        style="float: right;">제주시 제주읍</span> <span class="btn-like">❤️</span>
      <span class="btn-like-cnt">31</span> <span>🗨</span> <span
        class="btnCommentCnt">10</span>

      <svg style="float: right;" xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink" width="20"
        height="20" viewBox="0 0 32 32" fill="#000000"
        data-svg-content="true">
        <g>
        <path
          d="M 10.084,5.804L 2,2L 2,26L 10.084,29.804 zM 12.084,29.776L 20.042,26.19L 20.042,2.19L 12.084,5.776 zM 22.042,26.232L 30,30L 30,6L 22.042,2.232 z"></path></g></svg>




      <hr>
<!-- 댓글 기능

<p>댓글 <input id="x-todo-input" type="text"></p>
<table id="x-todo-table" border="1" class="table table-hover">
<thead>
  <tr>
    <th></th>
    <th>        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
          viewBox="0 0 48 48" data-svg-content="true" fill="#000000">
          <path
            d="M29.39 34.21C27.9 35.36 25.99 36 24 36s-3.9-.64-5.39-1.79c-.43-.34-1.06-.26-1.4.18-.34.44-.26 1.06.18 1.4C19.22 37.21 21.57 38 24 38s4.78-.79 6.61-2.21c.44-.34.52-.97.18-1.4-.34-.44-.97-.52-1.4-.18z"></path>
          <circle cx="17" cy="25" r="2"></circle>
          <path
            d="M24 0C10.75 0 0 10.75 0 24s10.75 24 24 24 24-10.75 24-24S37.25 0 24 0zm15.92 29.64c-2.18 7.48-8.54 12.91-16.08 12.91-7.55 0-13.92-5.45-16.09-12.95-2.38-.2-4.25-2.36-4.25-5.02 0-2.54 1.71-4.63 3.93-4.99v-.01c4.18-2.93 7.61-6.98 8.19-10.1l.01.01v-.03c2.71 5.25 12.6 10.38 23.65 10.12.2-.03.39-.07.59-.07 2.55 0 4.62 2.27 4.62 5.07.01 2.78-2.04 5.04-4.57 5.06z"></path>
          <circle cx="31" cy="25" r="2"></circle></svg></th>
          <th class="loginUser">댓글</th>
    <th>댓글</th>
    <th><a>수정</a><a>삭제</a><a>신고</a></th>
  </tr>
</thead>
<tbody>
</tbody>
</table>

<input type="text" id="x-title-input">
 -->
      <!--  

        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
          viewBox="0 0 48 48" data-svg-content="true" fill="#000000">
          <path
            d="M29.39 34.21C27.9 35.36 25.99 36 24 36s-3.9-.64-5.39-1.79c-.43-.34-1.06-.26-1.4.18-.34.44-.26 1.06.18 1.4C19.22 37.21 21.57 38 24 38s4.78-.79 6.61-2.21c.44-.34.52-.97.18-1.4-.34-.44-.97-.52-1.4-.18z"></path>
          <circle cx="17" cy="25" r="2"></circle>
          <path
            d="M24 0C10.75 0 0 10.75 0 24s10.75 24 24 24 24-10.75 24-24S37.25 0 24 0zm15.92 29.64c-2.18 7.48-8.54 12.91-16.08 12.91-7.55 0-13.92-5.45-16.09-12.95-2.38-.2-4.25-2.36-4.25-5.02 0-2.54 1.71-4.63 3.93-4.99v-.01c4.18-2.93 7.61-6.98 8.19-10.1l.01.01v-.03c2.71 5.25 12.6 10.38 23.65 10.12.2-.03.39-.07.59-.07 2.55 0 4.62 2.27 4.62 5.07.01 2.78-2.04 5.04-4.57 5.06z"></path>
          <circle cx="31" cy="25" r="2"></circle></svg>

        <span class="nick">조원석</span> <span>개ㅁㅇㄻㅇㄴ꿀맛</span>

        <div
          style="float: right; width: 33%; margin-right: 25px; text-align: right;">
          <a>수정</a> <a>삭제</a> <a>신고</a>
        </div>
      </div>
      <div>
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
          viewBox="0 0 48 48" data-svg-content="true" fill="#000000">
          <path
            d="M29.39 34.21C27.9 35.36 25.99 36 24 36s-3.9-.64-5.39-1.79c-.43-.34-1.06-.26-1.4.18-.34.44-.26 1.06.18 1.4C19.22 37.21 21.57 38 24 38s4.78-.79 6.61-2.21c.44-.34.52-.97.18-1.4-.34-.44-.97-.52-1.4-.18z"></path>
          <circle cx="17" cy="25" r="2"></circle>
          <path
            d="M24 0C10.75 0 0 10.75 0 24s10.75 24 24 24 24-10.75 24-24S37.25 0 24 0zm15.92 29.64c-2.18 7.48-8.54 12.91-16.08 12.91-7.55 0-13.92-5.45-16.09-12.95-2.38-.2-4.25-2.36-4.25-5.02 0-2.54 1.71-4.63 3.93-4.99v-.01c4.18-2.93 7.61-6.98 8.19-10.1l.01.01v-.03c2.71 5.25 12.6 10.38 23.65 10.12.2-.03.39-.07.59-.07 2.55 0 4.62 2.27 4.62 5.07.01 2.78-2.04 5.04-4.57 5.06z"></path>
          <circle cx="31" cy="25" r="2"></circle></svg>

        <span class="nick">조원석</span> <span>개꿀맛</span>

        <div
          style="float: right; width: 33%; margin-right: 25px; text-align: right;">
          <a>수정</a> <a>삭제</a> <a>신고</a>
        </div>
      </div>

      <div>
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
          viewBox="0 0 48 48" data-svg-content="true" fill="#000000">
          <path
            d="M29.39 34.21C27.9 35.36 25.99 36 24 36s-3.9-.64-5.39-1.79c-.43-.34-1.06-.26-1.4.18-.34.44-.26 1.06.18 1.4C19.22 37.21 21.57 38 24 38s4.78-.79 6.61-2.21c.44-.34.52-.97.18-1.4-.34-.44-.97-.52-1.4-.18z"></path>
          <circle cx="17" cy="25" r="2"></circle>
          <path
            d="M24 0C10.75 0 0 10.75 0 24s10.75 24 24 24 24-10.75 24-24S37.25 0 24 0zm15.92 29.64c-2.18 7.48-8.54 12.91-16.08 12.91-7.55 0-13.92-5.45-16.09-12.95-2.38-.2-4.25-2.36-4.25-5.02 0-2.54 1.71-4.63 3.93-4.99v-.01c4.18-2.93 7.61-6.98 8.19-10.1l.01.01v-.03c2.71 5.25 12.6 10.38 23.65 10.12.2-.03.39-.07.59-.07 2.55 0 4.62 2.27 4.62 5.07.01 2.78-2.04 5.04-4.57 5.06z"></path>
          <circle cx="31" cy="25" r="2"></circle></svg>

        <span class="nick">조원석</span> <span>개꿀맛</span>

        <div
          style="float: right; width: 33%; margin-right: 25px; text-align: right;">
          <a>수정</a> <a>삭제</a> <a>신고</a>
        </div>
      </div>


-->
      <svg xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink" width="32"
        height="32" viewBox="0 0 32 32" fill="rgb(0, 0, 0)"
        data-svg-content="true">
        <g>
        <path
          d="M 9,18L 16,18 l0,7 C 16,25.552, 16.448,26, 17,26S 18,25.552, 18,25L 18,18 l 7,0 C 25.552,18, 26,17.552, 26,17 C 26,16.448, 25.552,16, 25,16L 18,16 L 18,9 C 18,8.448, 17.552,8, 17,8S 16,8.448, 16,9L 16,16 L 9,16 C 8.448,16, 8,16.448, 8,17C 8,17.552, 8.448,18, 9,18z"></path></g></svg>


      <hr>

      <div style="align-items: center;">
        더보기
        <svg xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink" width="32"
          height="32" viewBox="0 0 32 32" fill="rgb(158, 158, 158)"
          data-svg-content="true">
        <g>
        <path
            d="M 22.782,13.8L 17,19.582L 11.218,13.8c-0.39-0.39-1.024-0.39-1.414,0c-0.39,0.39-0.39,1.024,0,1.414 l 6.486,6.486c 0.196,0.196, 0.454,0.294, 0.71,0.292c 0.258,0, 0.514-0.096, 0.71-0.292l 6.486-6.486c 0.39-0.39, 0.39-1.024,0-1.414 C 23.806,13.41, 23.172,13.41, 22.782,13.8z"></path></g></svg>


      </div>



    </div>





    <script src="../../node_modules/sweetalert2/dist/sweetalert2.min.js"></script>
    <script src="/userDestination/userDestinationDtl3.js" type="module"></script>
    <script>
					// 1) URL에서 쿼리스트링(query string)을 추출한다.
					var arr = location.href.split("?");
					console.log(arr);

					if (arr.length == 1) {
						alert("요청 형식이 옳바르지 않습니다.")
						throw "URL 형식 오류!";
					}

					var qs = arr[1];
					console.log(qs);

					//2) 쿼리 스트링에서 desId 값을 추출한다.
					var params = new URLSearchParams(qs);
					var no = params.get("desId");
					console.log(no);

					//동적으로 변화줄 elements 선택		
					//제목
					var title = document.querySelector(".title");
					//아이디
					var nickName = document.querySelector(".nickName");
					//등록일  
					var regDate = document.querySelector(".regDate");
					//이미지 경로 1, 2, 3,
					var img = document
							.querySelectorAll(".d-block.h-auto.w-100");

					var content = document.querySelector(".content");

					//좋아요 수
					var btnLikeCnt = document.querySelector(".btn-like-cnt");
					console.log(btnLikeCnt)
					//댓글 수   
					var btnCommentCnt = document
							.querySelector(".btnCommentCnt");
					//주소
					var address = document.querySelector(".address");

					// 3) 서버에서 데이터 가져오기
					fetch(`/destination/getDes?desId=${no}&type=N`)
							.then(function(response) {
								return response.json();
							})
							.then(
									function(result) {
										var getDes = result;

										title.innerHTML = getDes.destination.destinationName;
										nickName.innerHTML = getDes.destination.nickName;
										regDate.innerHTML = getDes.destination.regDate;
										console.log(img)
										img[0]
												.setAttribute(
														"src",
														`/destination/img?filename=${getDes.destinationImgList[0].img}`)
										img[1]
												.setAttribute(
														"src",
														`/destination/img?filename=${getDes.destinationImgList[1].img}`)
										img[2]
												.setAttribute(
														"src",
														`/destination/img?filename=${getDes.destinationImgList[2].img}`)

										content.innerHTML = getDes.destination.contents;
										btnLikeCnt.innerHTML = getDes.destination.likesCnt
										btnCommentCnt.innerHTML = getDes.commentList.length
										address.innerHTML = getDes.destination.address

									})
				</script>


    <script>
					//likes 버튼
					$(".btn-like").click(function() {
						$(this).toggleClass("done");
						if(btnLikeCnt.innerHTML == 0){
							btnLikeCnt.innerHTML = "1"
						}else{
				             btnLikeCnt.innerHTML = "0"
						}
				        fetch(`/destination/addLike`)
						
						
					})
				</script>
    <script>
					//carouseol 동작
					$(document).on(
							"pagebeforeshow",
							"[data-role=page]",
							function() {
								var active = "#" + $.mobile.activePage[0].id;
								var active_index = $(active).index();
								$(".activePage").removeClass("activePage");
								$("#navigator a", this).eq(active_index)
										.addClass("activePage");
							});
				</script>
</body>

</html>