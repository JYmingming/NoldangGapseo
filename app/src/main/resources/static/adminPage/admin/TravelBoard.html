<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>어드민</title>

    <link rel="stylesheet" type="text/css" href="TravelBoard.css">
    <style>
 th{font-family: Comic Sans MS;border: thin solid #6495ed;padding: 2px;background-color: #fb9300;color : white; border-radius : 10px;}
 td{font-family: Comic Sans MS;border: thin solid white;padding: 2px;text-align: center;}.odd{background:white;}
 img{padding:5px; border:solid; border-color: #dddddd #aaaaaa #aaaaaa #dddddd; border-width: 1px 2px 2px 1px; background-color:white;}</style>
</head>



<body>
 
        
<header>
<div th:replace="/fixed/header :: header"></div>
<a href="memberList2.html" ><h1 id="imgtext1">ADMINSTRATOR 
<nav>
   <a href="memberList2.html" ><span id="imgtext2">유저관리</span></a>
                  <a href="report.html"><span id="imgtext3">신고관리</span></a>
                   <a href="TravelBoard.html"><span id="imgtext4">여행지관리</span></a>
                    <a href="../../customorCenter/noticeBoard/noticeBoard.html"><span id="imgtext5"></span></a>
                    <a href="../../indexPage/index.html"><span id="imgtext6">Home</span></a>
                    </nav>
</h1></a>

                    </header>
<hr>
<h1 class ="maintitle">여행지 l 여행지 관리</h1>

    
  <input type="button"  id ="btn123"  style="color: white " value="새 여행지 추가" onClick="location.href='TravelBoard2.html'" />




<div class="container">

 
    <form >
        <table  id="products">
           <thead>
           
  <tr>
    <th >타입</th>
    <th >이름</th>
    <th >주소</th>
    <th>전화번호</th>
    
    <th >사진</th>
    <th >한줄소개</th>
    <th >업데이트</th>
    <th>삭제</th>
  </tr>
</thead>
<tbody id = serviceTbody>

  <tr >
      <td > <h5 class="destination_type_id" contenteditable='true'></h5></td>
        <td > <h5 class="destination_name" contenteditable='true'></h5></td>
       <td > <h5 class="address" contenteditable='true'></h5></td>
   <td  > <h5 class="phone" contenteditable='true'>0507-1323-6186</h5></td>
   
    <td ><img src="img/img5.jpg" width="200" height="100"></td>
         <td > <h5 class="contents" contenteditable='true'>여기가 한국인지 하와인지 뷰 진짜 좋고 브런치 집이라 메뉴가 좋은데 좀 비싸요</h5></td>
 <td >	<button id="open" a onclick="alert('업데이트 되었습니다.');" style="cursor:pointer"  > 업데이트</button></td>
      <td ><button id="btn2" onclick="deleteRow(this);">삭제</button></td>

  </tr>
 
 <tr>
      <td> <h5 class="destination_type_id" contenteditable='true'></h5></td>
        <td> <h5 class="destination_name" contenteditable='true'></h5></td>
       <td> <h5 class="address" contenteditable='true'></h5></td>
   <td> <h5 class="phone" contenteditable='true'>0507-1342-0814</h5></td>
  
    <td class ="td-6"><img src="img/img6.jpg" width="200" height="100"></td>
         <td> <h5 class="contents" contenteditable='true'>당일날 수작업으로 만들어지는 수제 한과 집이에요~! 씨안오란다항 거북이식혜가 진짜 꿀맛 이에요~!</h5></td>
 <td>	<button id="open" a onclick="alert('업데이트 되었습니다.');" style="cursor:pointer"  > 업데이트</button></td>
      <td class ="td-9"  ><button id="btn2" onclick="deleteRow(this);">삭제</button></td>
  </tr>
  <tr>
      <td> <h5 class="destination_type_id" contenteditable='true'></h5></td>
        <td> <h5 class="destination_name" contenteditable='true'></h5></td>
       <td> <h5 class="address" contenteditable='true'></h5></td>
   <td> <h5 class="phone" contenteditable='true'></h5></td>
  
    <td class ="td-6"><img src="img/img7.jpg" width="200" height="100"></td>
         <td> <h5 class="contents" contenteditable='true'></h5></td>
 <td>	<button id="open" a onclick="alert('업데이트 되었습니다.');" style="cursor:pointer"  > 업데이트</button></td>
      <td class ="td-9"  ><button id="btn2" onclick="deleteRow(this);">삭제</button></td>
  </tr>
  
  <tr>
      <td> <h5 class="destination_type_id" contenteditable='true'></h5></td>
        <td> <h5 class="destination_name" contenteditable='true'></h5></td>
      	 <td> <h5 class="address" contenteditable='true'></h5></td>
   			<td> <h5 class="phone" contenteditable='true'></h5></td>
   	
    	<td class ="td-6"><img src="img/img8.jpg" width="200" height="100"></td>
         <td> <h5 class="contents" contenteditable='true'></h5></td>
 <td>	<button id="open" a onclick="alert('업데이트 되었습니다.');" style="cursor:pointer"  > 업데이트</button></td>
    <td class ="td-9"  ><button id="btn2" onclick="deleteRow(this);">삭제</button></td>
   
  </tr>
  
 <tr id = wow  style=  "display: none;" >

            <td>

         <select name="catgo" style ="  float : left" >
        <option value="userNum">맛집</option>
       
        <option value="userID">명소</option>
        <option value="userEmail">카페</option>
      
      </select>

            </td>

            <td>

                   <h5 class="rowColumn" contenteditable="false" data-default="이름">이름</h5>

            </td>

           <td><input type="address" id="address_kakao" name="address" readonly size="20"/></td>
             <td>

                       <h5 class="rowColumn"  id="address_kakao"  contenteditable="false" data-default="전화번호">전화번호</h5>

            </td>

        
             <td class ="td-6"> <img id="preview" src="" width="200"  alt="">
             <td>

                       <h5 class="rowColumn" contenteditable="false" data-default="한줄소개">한줄소개</h5>

            </td>
       <td>	<button id="open" a onclick="alert('업데이트 되었습니다.');" style="cursor:pointer"  > 업데이트</button></td>
    <td class ="td-9"  ><button id="btn2" onclick="deleteRow(this);">삭제</button></td>

          
  </tr>  
   
   <tr id = wow2  style=  "display: none;" >

            <td>

                <h5 class="rowColumn" contenteditable="false" data-default="명소">명소</h5>

            </td>

            <td>

                   <h5 class="rowColumn" contenteditable="false" data-default="이름">이름</h5>

            </td>

           <td><input type="address" id="address_kakao" name="address" readonly size="20"/></td>
             <td>

                       <h5 class="rowColumn"  id="address_kakao"  contenteditable="false" data-default="전화번호">전화번호</h5>

            </td>

            <td>

                       <h5 class="rowColumn" contenteditable="false" data-default="여행지번호">여행지번호</h5>

            </td>
            
						<td class ="td-6"> <img id="preview" src="" width="200"  alt="">
					<input type="file" id="getfile" accept="image/*">
					</td>
 
 
 
  </tr>
  
          
  </tr>  
          

  
</tbody>
</table>


</form>
</div>

<div>
</div>

<script>

function deleteRow(r) {
    var i = r.parentNode.parentNode.rowIndex;
    document.getElementById("products").deleteRow(i);
}</script>


<script type="text/javascript">



    // @breif contenteditable 속성을 가진경우

    contents = document.getElementsByClassName("rowColumn");



    document.addEventListener("DOMContentLoaded", function() {



        // @breif rowColumn 클래스의 갯수 만큼 반복문을 실행한다.

        Array.from(contents).forEach(function(content) {



            // @breif 마우스로 해당영역을 더블클릭 한경우

            content.addEventListener("dblclick", function(event) {



                // @breif 전체 테이블 컬럼( td > p )에서 현재 사용중인 값의 존재여부를 확인한다.

                Array.from(contents).forEach(function(defaultVal) {



                    /*
                    // @details 빈값( null )이 존재하는지 체크한다.
                    if(
                           defaultVal.textContent == ""
                        || defaultVal.textContent == null
                        || defaultVal.textContent == undefined
                        || (defaultVal.textContent != null
                        && typeof defaultVal.textContent == "object"
                        && !Object.keys(defaultVal.textContent).length == ""))
                    {

                        // @details 내용이 존재하지 않다면 data 태그의 기본값으로 되돌린다.
                        defaultVal.textContent = defaultVal.dataset.default;
                    }
                    */

                    // @details 저장하지 않은 내용이라고 판단하여 data 태그의 기본값으로 되돌린다.
                    defaultVal.textContent = defaultVal.dataset.default;

                    // @breif 수정 불가 상태로 되돌린다.

                    defaultVal.contentEditable = false;

                    defaultVal.style.border = "0px";

                });



                if(content.isContentEditable == false) {



                    // @details 편집 가능 상태로 변경

                    content.contentEditable = true;



                    // @details 텍스트 문구 변경

                    // content.textContent = "";



                    // @details CSS 효과 추가

                    content.style.border = "1px solid #FFB6C1";



                    // @details 포커스 지정

                    content.focus();

                }

            });



            // @breif 키보드 입력이 방생한 경우 실행

            content.addEventListener("keypress", function(event) {



                // @breif Enter키 입력시 실행

                if(event.key === "Enter") {



                    // @details 입력된 값이 빈값( null )인지 체크한다.

                    if(

                           content.textContent == ""

                        || content.textContent == null

                        || content.textContent == undefined

                        || (content.textContent != null

                        && typeof content.textContent == "object"

                        && !Object.keys(content.textContent).length == ""))

                    {



                        // @details 내용이 존재하지 않다면 data 태그의 기본값으로 되돌린다.

                        content.textContent = content.dataset.default;

                    } else {



                        // @details 내용의 수정이 완료되었다면 data 태그의 기본값도 바꿔준다.

                        content.dataset.default = content.textContent;

                    }



                    // @breif 수정 불가 상태로 되돌린다.

                    content.contentEditable = false;

                    content.style.border = "0px";

                }

            });

        });

    });

</script>

	<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
<script>
window.onload = function(){
    document.getElementById("address_kakao").addEventListener("click", function(){ //주소입력칸을 클릭하면
        //카카오 지도 발생
        new daum.Postcode({
            oncomplete: function(data) { //선택시 입력값 세팅
                document.getElementById("address_kakao").value = data.address; // 주소 넣기
               
            }
        }).open();
    });
}
</script>

<script type="text/javascript">
 //보이기
 function div_show() {
  document.getElementById("wow").style.display = "";
 }
 

</script>

<script type="text/javascript">
 //보이기
 function div_show2() {
  document.getElementById("wow2").style.display = "";
 }
 

</script>

<script>
var file = document.querySelector('#getfile');

file.onchange = function () { 
    var fileList = file.files ;
    
    // 읽기
    var reader = new FileReader();
    reader.readAsDataURL(fileList [0]);

    //로드 한 후
    reader.onload = function  () {
        document.querySelector('#preview').src = reader.result ;
    }; 
}; 
</script>


       <script src="./TravelBoard.js" type="module"></script>

</body>
</html>
