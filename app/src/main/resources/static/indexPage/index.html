<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>놀당갑서</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="index.css">

    <link rel="stylesheet" href="../node_modules/sweetalert2/dist/sweetalert2.min.css" />
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.css" />
    <script src="../node_modules/jquery/dist/jquery.min.js"></script>
    <script src="../node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../node_modules/axios/dist/axios.js"></script>


</head>


<header>
    <div class="header_info col-">
        <a href="../member/form.html">회원가입</a>  공지사항  Q&A
    </div>
    <div class="headers">
        <div class="header_logo"> noldang</div>
        <div class="header_login" id ="login-box" >
            <button id="login-btn" type="button" class="not-login" data-bs-toggle="modal" data-bs-target="#loginModal">Login</button>
            <span id="user-name" class="login"></span>
            <button id="logout-btn" type="button" class="login">LogOut</button>
        </div>

    </div>
    <div class ="main_container">
        <div class ="hosting">
            <div>출발일</div>
            <div>도착일</div>
            <div>출발인원</div>
            <div>테마</div>


        </div>
        <div class ="main_img"></div>
    </div>
</header>
<body>
    <div class="wrap">
        <div class ="container" id="second_container">
            <h1>설레는 한걸음, 어디로 떠나볼까요?</h1>
            <div class="row">
                <div class="col-3">
                    <div> </div>
                    <span>제목 입니다</span>
                </div>
                <div class="col-3">
                    <div></div>
                    <span>제목 입니다</span>
                </div>
                <div class="col-3">
                    <div></div>
                    <span>제목 입니다</span>
                </div>
                <div class="col-3">
                    <div></div>
                    <span>제목 입니다</span>
                </div>
            </div>
        </div>




        <div class="container" id="third_container">
            <div class="d-flex justify-content-between">
                <div><h1>내가 느낀 감동, 공유합니다.</h1></div>
                <div><h5 class="more_content"><a href="#">더보기</a></h5></div>
            </div>
                <div id ="travel-list">
                    <ul>
                        <li class ="list-group">
                            <div class="travel-list">
                                <figure class="img-con"></figure>
                                <div class ="travel-text-group">
                                    <div class="travel-text-title">
                                        <h5>제목입니다.</h5>
                                    </div>
                                    <div class="travel-text-text">
                                        '선데이 아보'는 '일요일 오후'라는 뜻으로, 일요일 오후처럼 느긋하고 편안한 시간을 보내길 바라는 마음이 이름에 담겨 있다. 각종 식물과 원목으로 둘러싸인 아늑한 매장 분위기가 인상적인 곳이다. 언덕에 위치해 있어 올라갈 때 약간의 수고스러움이 있지만 그만큼 풍광과 채광이 좋아서 올라온 보람이 있게 만든다. 브런치를 먹을 시간에 ‘햇살 맛집’으로 불릴 만큼 볕이 예쁘게 들어온다
                                    </div>
                                </div>
                            </div>
                        </li>

                        <li class ="list-group">
                            <div class="travel-list">
                                <figure class="img-con"></figure>
                                <div class ="travel-text-group">
                                    <div class="travel-text-title">
                                        <h5>제목입니다.</h5>
                                    </div>
                                    <div class="travel-text-text">
                                        '선데이 아보'는 '일요일 오후'라는 뜻으로, 일요일 오후처럼 느긋하고 편안한 시간을 보내길 바라는 마음이 이름에 담겨 있다. 각종 식물과 원목으로 둘러싸인 아늑한 매장 분위기가 인상적인 곳이다. 언덕에 위치해 있어 올라갈 때 약간의 수고스러움이 있지만 그만큼 풍광과 채광이 좋아서 올라온 보람이 있게 만든다. 브런치를 먹을 시간에 ‘햇살 맛집’으로 불릴 만큼 볕이 예쁘게 들어온다
                                    </div>
                                </div>
                            </div>
                        </li>

                        <li class ="list-group">
                            <div class="travel-list">
                                <figure class="img-con"></figure>
                                <div class ="travel-text-group">
                                    <div class="travel-text-title">
                                        <h5>제목입니다.</h5>
                                    </div>
                                    <div class="travel-text-text">
                                        '선데이 아보'는 '일요일 오후'라는 뜻으로, 일요일 오후처럼 느긋하고 편안한 시간을 보내길 바라는 마음이 이름에 담겨 있다. 각종 식물과 원목으로 둘러싸인 아늑한 매장 분위기가 인상적인 곳이다. 언덕에 위치해 있어 올라갈 때 약간의 수고스러움이 있지만 그만큼 풍광과 채광이 좋아서 올라온 보람이 있게 만든다. 브런치를 먹을 시간에 ‘햇살 맛집’으로 불릴 만큼 볕이 예쁘게 들어온다
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
        </div>
            <div class ="fourth_container">
                <div>
                    <h1>모든 관광지를 한눈에 찾아보아요</h1>
                </div>
                <div id="map"></div>
            </div>
        </div>
    </div>



    <!-- Button trigger modal -->


    <!-- Modal -->
    <div class="modal fade" id="loginModal" tabindex="-3" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="container login_container">
                        <div>
                            <button type="button" class="" data-bs-dismiss="modal" aria-label="Close">X</button>
                        </div>
                        <div class="modal-icon">
                            <p class="m-auto">Noldang</p>
                        </div>
                        <div class="d-flex flex-row-reverse bd-highlight">
                            <p class="px-5 mb-0"><button type="button" >Id/Pw찾기</button></p>
                        </div>
                        <form name="form1">
                            <div class="form-group m-auto">
                                <input class="form-control " type="text" name="email" placeholder="email">
                            </div>
                            <div class="form-group m-auto">
                                <input class="form-control m-auto" type="password" name="password" placeholder="Password">
                            </div>
                            <div class="form-group m-auto">
                            <input name="saveEmail" type="checkbox"> 이메일 저장<br>
                            </div>
                            <div class="d-flex flex-row-reverse bd-highlight">
                                <p class="px-5 mt-0"><button type="button" onClick="location.href='../member/form.html'">회원가입</button></p>
                            </div>
                            <div class="form-group m-auto login-submit">
                                <input class="form-control" id="x-add-btn" type="submit" value="Iog In">
                            </div>
                            <div class="row m-5 sns_container">
                                <div class="col text-center sns_login"><img src=../img/facebook_icon.png></div>
                                <div class="col text-center sns_login"><img src=../img/facebook_icon.png></div>
                                <div class="col text-center sns_login"><img src=../img/facebook_icon.png></div>
                                <div class="col text-center sns_login"><img src=../img/facebook_icon.png></div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        css(".login", "display", "none");

        fetch("/user/getLoginUser").then(function(response) {
            return response.json();
        }).then(function(result) {
            if (result.resStatus == "success") {
                document.querySelector("#user-name").innerHTML = result.data.nickName;
                css(".login", "display", "");
                css(".not-login", "display", "none");
            }
        });

        document.querySelector("#logout-btn").onclick = function() {
            fetch("/user/signout").then(function(response) {
                location.href = "index.html";
            });
        };


        //css 함수
        function css(selector, name, value) {
            var el = document.querySelectorAll(selector);
            for (var e of el) {
                e.style[name] = value;
            }
        }
    </script>

    <script>
        // 로그인
        var xEmail = document.querySelector("input[name=email]");
        var xPassword = document.querySelector("input[name=password]");

        document.querySelector("form[name=form1]").onsubmit = function() {
            if ( xEmail.value == "" ||
                xPassword.value == "") {
                window.alert("필수 입력 항목이 비어 있습니다.");
                return false;
            }
            var fd = new FormData(document.forms.namedItem("form1"));

            fetch("/user/signin", {
                method: "POST",
                body: new URLSearchParams(fd)
            })
                .then(function(response) {
                    return response.json();
                })
                .then(function(result) {
                    if (result.resStatus == "success") {
                        location.href = "/indexPage/index.html";
                    } else {
                        window.alert("로그인 실패!")
                    }
                });
            return false;
        };




    </script>



    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=04d2370bb5a7c0451b3db7bbd723c9d1"></script>
    <script>
        var container = document.getElementById('map');
        var options = {
            center: new kakao.maps.LatLng(33.374, 126.557),
            level: 10
        };
        var map = new kakao.maps.Map(container, options);

    </script>

</body>


</html>